<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>callapp-lib示例</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    body {
      text-align: center;
    }

    a {
      padding: 10px;
      display:block;
      margin: 10px;
    }

    #call-button {
      display: inline-block;
      margin: 50px 0;
      padding: 10px;
      border: 1px solid #000;
      color: #c30;
      cursor: pointer;
      -webkit-tap-highlight-color: transparent;
    }
  </style>
</head>
<body>
  <div id='call-button'>点击唤起测试 App个人页</div>

  <h2>IOS</h2> 

  <h3>Universal Link （iOS9 & iOS9 以上版本）</h3>

  <a href="https://show.1688.com/unilink/common.html?go=https://m.1688.com/offer/603376384277.html">appLink方式 打开1688</a>

  <a href="https://wg.1688.com?go=https://m.1688.com/offer/603376384277.html">appLink方式 打开采源宝</a>

  <a href="https://render.alipay.com/p/s/ulink/?scheme=applinks:a.ereuiib.com">appLink方式 打开支付宝飞猪</a>

  <h3>URL Scheme （iOS9 以下版本）</h3>

  <a href="wireless1688://">URL Scheme 打开1688</a>

  <a href="microsupply1688://m.1688.com/offer/604375058811.html">URL Scheme 打开采源宝详情页面</a>

  <a href="tbopen://m.taobao.com/tbopen/index.html?&action=ali.open.nav&module=h5&bootImage=0&source=alimama&appName=百度&packageName=com.taobao.taobao&h5Url=http://uland.taobao.com/coupon/edetail?e=JdCWmIjchzcQQ65me5POu0AHzPq8WOk4GN%2BeqymA2CFMmdsrkidbOcgNAa9X6T79uG1ZaNECU%2FRrC8Oh6piEfbzMFOyhpbha3WbveHeFbMwN%2BoQUE6FNzN98qVvo7dbtivn%2BkocBMtHevNC9CNrn05PQbQj0VmipLt4IAIO29q4hLiEVZskYU9ISrZxr7H8vDm3YtXt3LwbK6idHvd8I90Q2Zuvm1xZmpqYOyKD4xIvL3AyMj%2BCWqgLDC49r%2BKZ06sU1gGDD6sgCXq6p10H8dp3hPydfh1YZe2JQhx3WpC1gIO8Ish7cHpYQtkUNkzgujBdxOIykFxBroXBFP6oz%2BA%3D%3D&&app_pvid=59590_11.24.57.250_425_1551855143160&ptl=floorId:13437;app_pvid:59590_11.24.57.250_425&backURL=baiduboxapp://donothing&appkey=4b5749f97a514035a74e830388f32a71&bc_fl_src=tunion_neirong_baijiaohao">URL Scheme 打开手淘</a>

  <a href="tmall://page.tm/appLink?action=ali.open.nav&module=h5&source=sb&h5Url=https%3A%2F%2Fwww.tmall.com%2F%23%2Fmain">URL Scheme 打开天猫首页</a>

  <a href="taobao://">URL Scheme 打开淘宝</a>

  <a href="zhihu://">URL Scheme 打开知乎</a>

  <a href="sinaweibo://qrcode">URL Scheme 打开微博扫码</a>

  <h2>Android</h2> 


  <h3>URL Scheme （（Android 全版本）</h3>


  <h3>APP Links （Android 6.0 & Android 6.0 以上版本）</h3>

  <h2>Https 协议</h2>

  <a href="https://wg.1688.com">https 链接打开 微供市场</a>

  <a href="https://taobao.com">https 链接打开 淘宝</a>

  <a href="https://h5.m.taobao.com">https 链接打开 手机淘宝</a>

  <a href="https://zhihu.com">https 链接打开 知乎</a>

  <script src='https://unpkg.com/callapp-lib@2.1.7/dist/index.umd.js'></script>
  <script>
    const option = {
      scheme: {
        protocol: 'wireless1688',
      },
      outChain: {
        protocol: 'wireless1688',
        path: '',
        key: '',
      },
      intent: {
        package: 'com.alibaba.wireless',
        scheme: 'wireless1688',
      },
      universal: {
        host: 'show.1688.com',
        pathKey: 'https://m.1688.com/offer/603376384277.html',
      },
      appstore: 'https://itunes.apple.com/cn/app/id1103629865',
      yingyongbao: '//a.app.qq.com/o/simple.jsp?pkgname=com.alibaba.wireless',
      fallback: 'https://m.1688.com/d.html',
      timeout: 2000,
    };
    const lib = new CallApp(option);
    const callButton = document.querySelector('#call-button');

    callButton.addEventListener('click', () => {
      lib.open({
        path: 'm.1688.com/offer/603376384277.html',
      });
    });

    // 因为业务需要，我们需要添加 outChain 属性
    // 但是这样生成出来的 scheme 稍显复杂，所以下面的 log 其实是移除了 outChain 属性的
    // outChain 很少有同学会使用到，所以更方便大家理解

    // ykshortvideo://profile
    console.log(lib.generateScheme({path: 'profile'})); 
    // intent://profile#Intent;package=com.youku.shortvideo;scheme=ykshortvideo;S.browser_fallback_url=https%3A%2F%2Fdianliu.youku.com%2Fservice%2Fdownload;end;
    console.log(lib.generateIntent({path: 'profile'})); 
    // https://flash-link.youku.com?action=profile
    console.log(lib.generateUniversalLink({path: 'profile'}));
  </script>
</body>
</html>